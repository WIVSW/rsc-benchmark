<!DOCTYPE html><!--W5kEvG6YKmzTP2XuJ_SmJ--><html lang="ru"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="./_next/static/css/3aa86a38381f94dc.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="./_next/static/chunks/webpack-35d25c236e6ec2c1.js"/><script src="./_next/static/chunks/4bd1b696-e3cb916a141afd6f.js" async=""></script><script src="./_next/static/chunks/964-a7d1c8f833fb67bd.js" async=""></script><script src="./_next/static/chunks/main-app-4f43ede4e299a7ce.js" async=""></script><script src="./_next/static/chunks/129-66b7272e120eb445.js" async=""></script><script src="./_next/static/chunks/app/page-fe5c75a8cf3e1f23.js" async=""></script><title>Бенчмарк серверных компонентов React</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"/><script src="./_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><main class="container"><div><h1 id="---react">Бенчмарк серверных компонентов React</h1><p>Данная страница содержит результаты нагрузочного тестирования серверных компонентов React.</p><p>Цель тестирования — продемонстрировать разницу в производительности серверных компонентов на различных средах исполнения JavaScript.</p><p>Прошу не ориентироваться на значения метрик, приведённые ниже, при проектировании сервисов.
Конкретные значения метрик зависят от множества факторов, не учитываемых данным тестом.</p><p>Вы можете воспроизвести тест локально, следуя инструкции в <a href="https://github.com/WIVSW/rsc-benchmark/blob/main/README.md">README.md</a>.</p><h2 id="-">О бенчмарке</h2><p>В рамках тестирования рассматриваются такие среды исполнения JavaScript, как Node.js, Bun и Deno.</p><p>В каждой из сред выполнения тестируются несколько типов рендеринга React-дерева.</p><table><thead><tr><th> Тип рендеринга </th><th> Описание                                                                  </th></tr></thead><tbody><tr><td> fizz           </td><td> Обычный серверный рендеринг React. Используется <a href="https://react.dev/reference/react-dom/server/renderToPipeableStream">renderToPipeableStream</a> в Node.js и <a href="https://react.dev/reference/react-dom/server/renderToReadableStream">renderToReadableStream</a> в Bun и Deno. </td></tr><tr><td> flight         </td><td> Рендеринг серверного компонента в JSON-представление                      </td></tr><tr><td> ssr            </td><td> Рендеринг серверного компонента в HTML-страницу                           </td></tr><tr><td> use-client     </td><td> Рендеринг серверного компонента с директивой &#x27;use client&#x27; в HTML-страницу </td></tr></tbody></table><p>Для сравнения используются две метрики:</p><ul><li>Медианное время рендеринга</li><li>Максимальный RPS серверного рендеринга</li></ul><h2 id="--">Медианное время рендеринга</h2><p>Медианное время рендеринга рассчитывалось на основе 10 последовательных запросов к серверу с вычислением медианного времени ответа.
В рамках теста рендерился <a href="https://github.com/WIVSW/rsc-benchmark/blob/main/common/stress.tsx">React-компонент</a> с динамическим количеством элементов списка.</p><p>На графике по оси X отображается количество отрендеренных элементов списка, а по оси Y — время ответа сервера в миллисекундах.</p><div class="recharts-responsive-container" style="width:100%;height:500px;min-width:0"><div style="width:0;height:0;overflow:visible"></div></div><h2 id="-rps--">Максимальный RPS серверного рендеринга</h2><p>В данном тесте на протяжении минуты генерировались запросы к странице с постепенно увеличивающимся числом параллельных запросов (от 1 до 400).</p><p>Итоговая метрика рассчитывается как максимальное число параллельных запросов, получивших ответ со статусом 200 в течение одной секунды.</p><p>В рамках теста рендерился <a href="https://github.com/WIVSW/rsc-benchmark/blob/main/common/stress.tsx">React-компонент</a> с 10 тысячами элементов списка.</p><p>Тест проводился на одном экземпляре сервера для оценки его пропускной способности.</p><div class="recharts-responsive-container" style="width:100%;height:500px;min-width:0"><div style="width:0;height:0;overflow:visible"></div></div></div><!--$--><!--/$--></main><script src="./_next/static/chunks/webpack-35d25c236e6ec2c1.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n14:I[8393,[],\"\"]\n:HL[\"./_next/static/css/3aa86a38381f94dc.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"W5kEvG6YKmzTP2XuJ-SmJ\",\"p\":\".\",\"c\":[\"\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"__PAGE__\",{}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"./_next/static/css/3aa86a38381f94dc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ru\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css\"}]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"main\",null,{\"className\":\"container\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"div\",\"outer\",{\"children\":[[\"$\",\"h1\",\"0\",{\"id\":\"---react\",\"className\":\"$undefined\",\"children\":[\"Бенчмарк серверных компонентов React\"]}],[\"$\",\"p\",\"1\",{\"className\":\"$undefined\",\"children\":[\"Данная страница содержит результаты нагрузочного тестирования серверных компонентов React.\"]}],[\"$\",\"p\",\"2\",{\"className\":\"$undefined\",\"children\":[\"Цель тестирования — продемонстрировать разницу в производительности серверных компонентов на различных средах исполнения JavaScript.\"]}],[\"$\",\"p\",\"3\",{\"className\":\"$undefined\",\"children\":[\"Прошу не ориентироваться на значения метрик, приведённые ниже, при проектировании сервисов.\\nКонкретные значения метрик зависят от множества факторов, не учитываемых данным тестом.\"]}],[\"$\",\"p\",\"4\",{\"className\":\"$undefined\",\"children\":[\"Вы можете воспроизвести тест локально, следуя инструкции в \",[\"$\",\"a\",\"1\",{\"href\":\"https://github.com/WIVSW/rsc-benchmark/blob/main/README.md\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"README.md\"]}],\".\"]}],[\"$\",\"h2\",\"5\",{\"id\":\"-\",\"className\":\"$undefined\",\"children\":[\"О бенчмарке\"]}],[\"$\",\"p\",\"6\",{\"className\":\"$undefined\",\"children\":[\"В рамках тестирования рассматриваются такие среды исполнения JavaScript, как Node.js, Bun и Deno.\"]}],[\"$\",\"p\",\"7\",{\"className\":\"$undefined\",\"children\":[\"В каждой из сред выполнения тестируются несколько типов рендеринга React-дерева.\"]}],[\"$\",\"table\",\"8\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"thead\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"tr\",null,{\"className\":\"$undefined\",\"children\":[[\"$\",\"th\",\"0\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" Тип рендеринга \"]}],[\"$\",\"th\",\"1\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" Описание                                                                  \"]}]]}]}],[\"$\",\"tbody\",null,{\"className\":\"$undefined\",\"children\":[[\"$\",\"tr\",\"0\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"td\",\"0\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" fizz           \"]}],[\"$\",\"td\",\"1\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" Обычный серверный рендеринг React. Используется \",[\"$\",\"a\",\"1\",{\"href\":\"https://react.dev/reference/react-dom/server/renderToPipeableStream\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"renderToPipeableStream\"]}],\" в Node.js и \",[\"$\",\"a\",\"3\",{\"href\":\"https://react.dev/reference/react-dom/server/renderToReadableStream\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"renderToReadableStream\"]}],\" в Bun и Deno. \"]}]]}],[\"$\",\"tr\",\"1\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"td\",\"0\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" flight         \"]}],[\"$\",\"td\",\"1\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" Рендеринг серверного компонента в JSON-представление                      \"]}]]}],\"$L4\",\"$L5\"]}]]}],\"$L6\",\"$L7\",\"$L8\",\"$L9\",\"$La\",\"$Lb\",\"$Lc\",\"$Ld\",\"$Le\",\"$Lf\",\"$L10\",\"$L11\"]}]],null,\"$L12\"]}],{},null,false]},null,false],\"$L13\",false]],\"m\":\"$undefined\",\"G\":[\"$14\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"15:I[7289,[\"129\",\"static/chunks/129-66b7272e120eb445.js\",\"974\",\"static/chunks/app/page-fe5c75a8cf3e1f23.js\"],\"default\"]\n16:I[2405,[\"129\",\"static/chunks/129-66b7272e120eb445.js\",\"974\",\"static/chunks/app/page-fe5c75a8cf3e1f23.js\"],\"default\"]\n17:I[9665,[],\"OutletBoundary\"]\n19:I[4911,[],\"AsyncMetadataOutlet\"]\n1b:I[9665,[],\"ViewportBoundary\"]\n1d:I[9665,[],\"MetadataBoundary\"]\n1e:\"$Sreact.suspense\"\n4:[\"$\",\"tr\",\"2\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"td\",\"0\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" ssr            \"]}],[\"$\",\"td\",\"1\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" Рендеринг серверного компонента в HTML-страницу                           \"]}]]}]\n5:[\"$\",\"tr\",\"3\",{\"className\":\"$undefined\",\"children\":[[\"$\",\"td\",\"0\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" use-client     \"]}],[\"$\",\"td\",\"1\",{\"style\":{},\"className\":\"$undefined\",\"children\":[\" Рендеринг серверного компонента с директивой 'use client' в HTML-страницу \"]}]]}]\n6:[\"$\",\"p\",\"9\",{\"className\":\"$undefined\",\"children\":[\"Для сравнения используются две метрики:\"]}]\n7:[\"$\",\"ul\",\"10\",{\"start\":\"$undefined\",\"className\":\"$undefined\",\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"$undefined\",\"children\":[\"Медианное время рендеринга\"]}],[\"$\",\"li\",\"1\",{\"className\":\"$undefined\",\"children\":[\"Максимальный RPS серверного рендеринга\"]}]]}]\n8:[\"$\",\"h2\",\"11\",{\"id\":\"--\",\"className\":\"$undefined\",\"children\":[\"Медианное время рендеринга\"]}]\n9:[\"$\",\"p\",\"12\",{\"className\":\"$undefined\",\"children\":[\"Медианное время рендеринга рассчитывалось на основе 10 последовательных запросов к серверу с вычислением медианного времени ответа.\\nВ рамках теста рендерился \",[\"$\",\"a\",\"2\",{\"href\":\"https://github.com/WIVSW/rsc-benchmark/blob/main/comm"])</script><script>self.__next_f.push([1,"on/stress.tsx\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"React-компонент\"]}],\" с динамическим количеством элементов списка.\"]}]\na:[\"$\",\"p\",\"13\",{\"className\":\"$undefined\",\"children\":[\"На графике по оси X отображается количество отрендеренных элементов списка, а по оси Y — время ответа сервера в миллисекундах.\"]}]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"$L15\",\"14\",{\"chart\":{\"lines\":[{\"runtime\":\"bun\",\"renderType\":\"fizz\",\"name\":\"bun_fizz\",\"color\":\"#53377A\"},{\"runtime\":\"bun\",\"renderType\":\"flight\",\"name\":\"bun_flight\",\"color\":\"#FF97BB\"},{\"runtime\":\"bun\",\"renderType\":\"ssr\",\"name\":\"bun_ssr\",\"color\":\"#62639B\"},{\"runtime\":\"bun\",\"renderType\":\"use-client\",\"name\":\"bun_use-client\",\"color\":\"#DD80CC\"},{\"runtime\":\"deno\",\"renderType\":\"fizz\",\"name\":\"deno_fizz\",\"color\":\"#009B76\"},{\"runtime\":\"deno\",\"renderType\":\"flight\",\"name\":\"deno_flight\",\"color\":\"#35682D\"},{\"runtime\":\"deno\",\"renderType\":\"ssr\",\"name\":\"deno_ssr\",\"color\":\"#FAD201\"},{\"runtime\":\"deno\",\"renderType\":\"use-client\",\"name\":\"deno_use-client\",\"color\":\"#00FFFF\"},{\"runtime\":\"node\",\"renderType\":\"fizz\",\"name\":\"node_fizz\",\"color\":\"#C0C0C0\"},{\"runtime\":\"node\",\"renderType\":\"flight\",\"name\":\"node_flight\",\"color\":\"#AA6651\"},{\"runtime\":\"node\",\"renderType\":\"ssr\",\"name\":\"node_ssr\",\"color\":\"#4B0082\"},{\"runtime\":\"node\",\"renderType\":\"use-client\",\"name\":\"node_use-client\",\"color\":\"#00538A\"}],\"data\":[{\"group\":\"100\",\"bun_fizz\":1,\"bun_flight\":1,\"bun_ssr\":3,\"bun_use-client\":2,\"deno_fizz\":2,\"deno_flight\":1,\"deno_ssr\":3,\"deno_use-client\":2,\"node_fizz\":1,\"node_flight\":2,\"node_ssr\":3,\"node_use-client\":3},{\"group\":\"1000\",\"bun_fizz\":2,\"bun_flight\":2,\"bun_ssr\":5,\"bun_use-client\":3,\"deno_fizz\":4,\"deno_flight\":2,\"deno_ssr\":7,\"deno_use-client\":3,\"node_fizz\":2,\"node_flight\":2,\"node_ssr\":7,\"node_use-client\":4},{\"group\":\"10000\",\"bun_fizz\":7.9,\"bun_flight\":7,\"bun_ssr\":21.1,\"bun_use-client\":6,\"deno_fizz\":13.9,\"deno_flight\":13.1,\"deno_ssr\":44.3,\"deno_use-client\":10.1,\"node_fizz\":7.9,\"node_flight\":10.9,\"node_ssr\":40,\"node_use-client\":7},{\"group\":\"100000\",\"bun_fizz\":44.3,\"bun_flight\":77.5,\"bun_ssr\":190.6,\"bun_use-client\":34.8,\"deno_fizz\":79.1,\"deno_flight\":138.4,\"deno_ssr\":368.8,\"deno_use-client\":62.2,\"node_fizz\":58.6,\"node_flight\":135.7,\"node_ssr\":441.5,\"node_use-client\":64.7},{\"group\":\"1000000\",\"bun_fizz\":340.4,\"bun_flight\":889.1,\"bun_ssr\":1978.7,\"bun_use-client\":242.3,\"deno_fizz\":685.5,\"deno_flight\":1790.4,\"deno_ssr\":6312.2,\"deno_use-client\":539.2,\"node_fizz\":441.5,\"node_flight\":11050.8,\"node_ssr\":14332.3,\"node_use-client\":539.2}]},\"visibility\":{\"bun_fizz\":false,\"bun_flight\":true,\"bun_ssr\":true,\"bun_use-client\":true,\"deno_fizz\":false,\"deno_flight\":true,\"deno_ssr\":false,\"deno_use-client\":false,\"node_fizz\":true,\"node_flight\":false,\"node_ssr\":false,\"node_use-client\":false}}]\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"h2\",\"15\",{\"id\":\"-rps--\",\"className\":\"$undefined\",\"children\":[\"Максимальный RPS серверного рендеринга\"]}]\nd:[\"$\",\"p\",\"16\",{\"className\":\"$undefined\",\"children\":[\"В данном тесте на протяжении минуты генерировались запросы к странице с постепенно увеличивающимся числом параллельных запросов (от 1 до 400).\"]}]\ne:[\"$\",\"p\",\"17\",{\"className\":\"$undefined\",\"children\":[\"Итоговая метрика рассчитывается как максимальное число параллельных запросов, получивших ответ со статусом 200 в течение одной секунды.\"]}]\nf:[\"$\",\"p\",\"18\",{\"className\":\"$undefined\",\"children\":[\"В рамках теста рендерился \",[\"$\",\"a\",\"1\",{\"href\":\"https://github.com/WIVSW/rsc-benchmark/blob/main/common/stress.tsx\",\"title\":\"$undefined\",\"className\":\"$undefined\",\"children\":[\"React-компонент\"]}],\" с 10 тысячами элементов списка.\"]}]\n10:[\"$\",\"p\",\"19\",{\"className\":\"$undefined\",\"children\":[\"Тест проводился на одном экземпляре сервера для оценки его пропускной способности.\"]}]\n11:[\"$\",\"$L16\",\"20\",{\"chart\":{\"lines\":[{\"runtime\":\"bun\",\"renderType\":\"fizz\",\"name\":\"bun\",\"color\":\"#53377A\"},{\"runtime\":\"deno\",\"renderType\":\"fizz\",\"name\":\"deno\",\"color\":\"#FF97BB\"},{\"runtime\":\"node\",\"renderType\":\"fizz\",\"name\":\"node\",\"color\":\"#62639B\"}],\"data\":[{\"group\":\"fizz\",\"bun\":276.6,\"deno\":109.8,\"node\":266.5},{\"group\":\"flight\",\"bun\":198.8,\"deno\":88.3,\"node\":154.6},{\"group\":\"ssr\",\"bun\":55.9,\"deno\":26,\"node\":27.5},{\"group\":\"use-client\",\"bun\":392.9,\"deno\":123.3,\"node\":140}]}}]\n12:[\"$\",\"$L17\",null,{\"children\":[\"$L18\",[\"$\",\"$L19\",null,{\"promise\":\"$@1a\"}]]}]\n13:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L1b\",null,{\"children\":\"$L1c\"}],null],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\""])</script><script>self.__next_f.push([1,",\"$1e\",null,{\"fallback\":null,\"children\":\"$L1f\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"1c:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n18:null\n"])</script><script>self.__next_f.push([1,"1a:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Бенчмарк серверных компонентов React\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"1f:\"$1a:metadata\"\n"])</script></body></html>